# Advanced Configuration

## Type Generation Options

```ts
override: {
  // Enum generation
  enumGenerationType: 'const',    // 'const' (default) | 'enum' | 'union'

  // Type preferences
  useTypeOverInterfaces: false,   // Use type instead of interface
  useNamedParameters: false,      // Named params object vs positional args
  useDates: false,                // Convert date/datetime to Date objects
  useBigInt: false,               // Convert int64/uint64 to BigInt
  useDeprecatedOperations: true,  // Include deprecated operations
  useNullForOptional: false,      // Type optional as T | null
  aliasCombinedTypes: false,      // Create intermediate type aliases for anyOf/oneOf/allOf
  suppressReadonlyModifier: false, // Suppress readonly modifier

  // Naming
  components: {
    schemas: { suffix: 'DTO' },
    responses: { suffix: 'Response' },
    parameters: { suffix: 'Params' },
    requestBodies: { suffix: 'Bodies' },
  },

  // Custom operation names
  operationName: (operation, route, verb) => `custom_${operation.operationId}`,

  // Property key naming convention
  namingConvention: {
    enum: 'PascalCase',  // camelCase | PascalCase | snake_case | kebab-case
  },

  // File header
  header: (info) => [
    'Generated by Orval',
    'Do not edit manually.',
    ...(info.title ? [info.title] : []),
  ],
  // header: false,  // Disable header

  // Service title (axios and angular clients only)
  title: (title) => `${title}Api`,
}
```

## Enum Extensions

Use OpenAPI extensions for meaningful enum names and descriptions:

```yaml
myEnum:
  type: number
  enum: [1, 2, 3]
  x-enumNames: [Active, Inactive, Pending]
  x-enumDescriptions:
    - User is active
    - User is inactive
    - User is pending approval
```

Generated output:

```ts
export const MyEnum = {
  /** User is active */
  Active: 1,
  /** User is inactive */
  Inactive: 2,
  /** User is pending approval */
  Pending: 3,
} as const;

export type MyEnum = (typeof MyEnum)[keyof typeof MyEnum];
```

Supported extension variants: `x-enumNames`, `x-enumnames`, `x-enum-varnames` for names; `x-enumDescriptions`, `x-enumdescriptions`, `x-enum-descriptions` for descriptions.

Note: Enum descriptions only work with `enumGenerationType: 'const'` (default).

## Per-Operation Overrides

```ts
override: {
  operations: {
    listPets: {
      mutator: 'src/response-type.js',
      query: {
        useInfinite: true,
        useInfiniteQueryParam: 'cursor',
        useSuspenseQuery: true,
        options: { staleTime: 60000 },
      },
      mock: {
        data: () => ({ id: 1, name: 'Buddy' }),
      },
    },
  },
}
```

## Per-Tag Overrides

Same options as per-operation but scoped by OpenAPI tag:

```ts
override: {
  tags: {
    pets: {
      mutator: {
        path: '../mutators/use-custom-instance.ts',
        name: 'useCustomInstance',
      },
      query: {
        useInfinite: true,
      },
    },
  },
}
```

## FormData Handling

Default FormData generation:

```ts
override: {
  formData: true,  // Auto-generate FormData serialization
}
```

Custom FormData mutator:

```ts
override: {
  formData: {
    path: './custom-form-data.ts',
    name: 'customFormData',
  },
}
```

```ts
// custom-form-data.ts
export const customFormData = <Body>(body: Body): FormData => {
  const formData = new FormData();
  Object.entries(body).forEach(([key, value]) => {
    formData.append(key, value);
  });
  return formData;
};
```

Array handling options for FormData:

```ts
override: {
  formData: {
    arrayHandling: 'serialize',  // 'serialize' | 'serialize-with-brackets' | 'explode'
  },
}
```

- `serialize`: `formData.append('items', JSON.stringify(value))`
- `serialize-with-brackets`: `formData.append('items[]', JSON.stringify(value))`
- `explode`: Expands nested objects with indexed keys

URL-encoded form data:

```ts
override: {
  formUrlEncoded: {
    path: './custom-form-url-encoded.ts',
    name: 'customFormUrlEncoded',
  },
}
```

## Content Type Filtering

```ts
override: {
  contentType: {
    include: ['application/json'],
    exclude: ['application/xml'],
  },
}
```

## JSDoc Customization

```ts
override: {
  jsDoc: {
    filter: (schema) => {
      const allowlist = [
        'type', 'format', 'maxLength', 'minLength',
        'description', 'minimum', 'maximum', 'pattern',
        'nullable', 'enum',
      ];
      return Object.entries(schema || {})
        .filter(([key]) => allowlist.includes(key))
        .map(([key, value]) => ({ key, value }))
        .sort((a, b) => a.key.length - b.key.length);
    },
  },
}
```

## Request Options

Configure or remove the request options parameter:

```ts
override: {
  requestOptions: false,  // Remove request options entirely
  // or configure headers:
  requestOptions: {
    headers: {
      'X-Custom-Header': '${dynamicValue}',
    },
  },
}
```

## Params Serializer

Custom parameter serialization (Axios/Angular only):

```ts
override: {
  paramsSerializer: {
    path: './custom-params-serializer.ts',
    name: 'customParamsSerializerFn',
  },
  // or use qs library:
  paramsSerializerOptions: {
    qs: { arrayFormat: 'repeat' },
  },
}
```

## Custom Mutation Options

```ts
override: {
  query: {
    mutationOptions: {
      path: './custom-mutation.ts',
      name: 'useCustomMutation',
    },
  },
}
```

## Full Working Example

```ts
import { faker } from '@faker-js/faker';
import { defineConfig } from 'orval';

export default defineConfig({
  petstore: {
    output: {
      mode: 'split',
      target: 'src/petstore.ts',
      schemas: 'src/model',
      client: 'react-query',
      mock: true,
      override: {
        operations: {
          listPets: {
            mutator: 'src/response-type.js',
            mock: {
              properties: () => ({
                id: () => faker.number.int({ min: 1, max: 99999 }),
              }),
            },
          },
          showPetById: {
            mock: {
              data: () => ({
                id: faker.number.int({ min: 1, max: 99 }),
                name: faker.person.firstName(),
                tag: faker.helpers.arrayElement([
                  faker.word.sample(),
                  undefined,
                ]),
              }),
            },
          },
        },
        mock: {
          properties: {
            '/tag|name/': () => faker.person.lastName(),
          },
          delay: 500,
        },
      },
      allParamsOptional: true,
      urlEncodeParameters: true,
    },
    input: {
      target: './petstore.yaml',
      override: {
        transformer: 'src/add-version.js',
      },
    },
    hooks: {
      afterAllFilesWrite: 'prettier --write',
    },
  },
});
```
