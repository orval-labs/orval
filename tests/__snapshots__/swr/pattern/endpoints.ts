/**
 * Generated by orval v8.4.2 ðŸº
 * Do not edit manually.
 * Pattern
 * OpenAPI spec version: 1.0.0
 */
import useSwr from 'swr';
import type { Key, SWRConfiguration } from 'swr';

import { faker } from '@faker-js/faker';

import { HttpResponse, http } from 'msw';
import type { RequestHandlerOptions } from 'msw';

import type { Node } from './model';

/**
 * @summary Example
 */
export type getVversionExampleResponse200 = {
  data: Node;
  status: 200;
};

export type getVversionExampleResponseSuccess =
  getVversionExampleResponse200 & {
    headers: Headers;
  };
export type getVversionExampleResponse = getVversionExampleResponseSuccess;

export const getGetVversionExampleUrl = (version: number = 1) => {
  return `/v${version}/example`;
};

export const getVversionExample = async (
  version: number = 1,
  options?: RequestInit,
): Promise<getVversionExampleResponse> => {
  const res = await fetch(getGetVversionExampleUrl(version), {
    ...options,
    method: 'GET',
  });

  const body = [204, 205, 304].includes(res.status) ? null : await res.text();

  const data: getVversionExampleResponse['data'] = body ? JSON.parse(body) : {};
  return {
    data,
    status: res.status,
    headers: res.headers,
  } as getVversionExampleResponse;
};

export const getGetVversionExampleKey = (version: number = 1) =>
  [`/v${version}/example`] as const;

export type GetVversionExampleQueryResult = NonNullable<
  Awaited<ReturnType<typeof getVversionExample>>
>;

/**
 * @summary Example
 */
export const useGetVversionExample = <TError = Promise<unknown>>(
  version: number = 1,
  options?: {
    swr?: SWRConfiguration<
      Awaited<ReturnType<typeof getVversionExample>>,
      TError
    > & { swrKey?: Key; enabled?: boolean };
    fetch?: RequestInit;
  },
) => {
  const { swr: swrOptions, fetch: fetchOptions } = options ?? {};

  const isEnabled = swrOptions?.enabled !== false && !!version;
  const swrKey =
    swrOptions?.swrKey ??
    (() => (isEnabled ? getGetVversionExampleKey(version) : null));
  const swrFn = () => getVversionExample(version, fetchOptions);

  const query = useSwr<Awaited<ReturnType<typeof swrFn>>, TError>(
    swrKey,
    swrFn,
    swrOptions,
  );

  return {
    swrKey,
    ...query,
  };
};

export const getGetVversionExampleResponseMock = (
  overrideResponse: Partial<Extract<Node, object>> = {},
): Node => ({
  guid: faker.helpers.fromRegExp(
    '^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$',
  ),
  ...overrideResponse,
});

export const getGetVversionExampleMockHandler = (
  overrideResponse?:
    | Node
    | ((
        info: Parameters<Parameters<typeof http.get>[1]>[0],
      ) => Promise<Node> | Node),
  options?: RequestHandlerOptions,
) => {
  return http.get(
    '*/v:version/example',
    async (info: Parameters<Parameters<typeof http.get>[1]>[0]) => {
      return HttpResponse.json(
        overrideResponse !== undefined
          ? typeof overrideResponse === 'function'
            ? await overrideResponse(info)
            : overrideResponse
          : getGetVversionExampleResponseMock(),
        { status: 200 },
      );
    },
    options,
  );
};
export const getPatternMock = () => [getGetVversionExampleMockHandler()];
