/**
 * Generated by orval v8.4.1 ðŸº
 * Do not edit manually.
 * Sample API
 * OpenAPI spec version: 0.0.0
 */
import useSwr from 'swr';
import type { Key, SWRConfiguration } from 'swr';

import useSWRMutation from 'swr/mutation';
import type { SWRMutationConfiguration } from 'swr/mutation';

import type { RequiredPetBodyBody } from './model';

export type createPetResponse204 = {
  data: void;
  status: 204;
};

export type createPetResponseSuccess = createPetResponse204 & {
  headers: Headers;
};
export type createPetResponse = createPetResponseSuccess;

export const getCreatePetUrl = () => {
  return `https://api.example.com/pets`;
};

export const createPet = async (
  requiredPetBodyBody: RequiredPetBodyBody,
  options?: RequestInit,
): Promise<createPetResponse> => {
  const res = await fetch(getCreatePetUrl(), {
    ...options,
    method: 'POST',
    headers: { 'Content-Type': 'application/json', ...options?.headers },
    body: JSON.stringify(requiredPetBodyBody),
  });

  const body = [204, 205, 304].includes(res.status) ? null : await res.text();

  const data: createPetResponse['data'] = body ? JSON.parse(body) : {};
  return {
    data,
    status: res.status,
    headers: res.headers,
  } as createPetResponse;
};

export const getCreatePetMutationFetcher = (options?: RequestInit) => {
  return (_: Key, { arg }: { arg: RequiredPetBodyBody }) => {
    return createPet(arg, options);
  };
};
export const getCreatePetMutationKey = () =>
  [`https://api.example.com/pets`] as const;

export type CreatePetMutationResult = NonNullable<
  Awaited<ReturnType<typeof createPet>>
>;

export const useCreatePet = <TError = Promise<unknown>>(options?: {
  swr?: SWRMutationConfiguration<
    Awaited<ReturnType<typeof createPet>>,
    TError,
    Key,
    RequiredPetBodyBody,
    Awaited<ReturnType<typeof createPet>>
  > & { swrKey?: string };
  fetch?: RequestInit;
}) => {
  const { swr: swrOptions, fetch: fetchOptions } = options ?? {};

  const swrKey = swrOptions?.swrKey ?? getCreatePetMutationKey();
  const swrFn = getCreatePetMutationFetcher(fetchOptions);

  const query = useSWRMutation(swrKey, swrFn, swrOptions);

  return {
    swrKey,
    ...query,
  };
};

export type getEchoResponse200 = {
  data: void;
  status: 200;
};

export type getEchoResponseSuccess = getEchoResponse200 & {
  headers: Headers;
};
export type getEchoResponse = getEchoResponseSuccess;

export const getGetEchoUrl = () => {
  return `https://api.example.com/ping`;
};

export const getEcho = async (
  options?: RequestInit,
): Promise<getEchoResponse> => {
  const res = await fetch(getGetEchoUrl(), {
    ...options,
    method: 'GET',
  });

  const body = [204, 205, 304].includes(res.status) ? null : await res.text();

  const data: getEchoResponse['data'] = body ? JSON.parse(body) : {};
  return { data, status: res.status, headers: res.headers } as getEchoResponse;
};

export const getGetEchoKey = () => [`https://api.example.com/ping`] as const;

export type GetEchoQueryResult = NonNullable<
  Awaited<ReturnType<typeof getEcho>>
>;

export const useGetEcho = <TError = Promise<unknown>>(options?: {
  swr?: SWRConfiguration<Awaited<ReturnType<typeof getEcho>>, TError> & {
    swrKey?: Key;
    enabled?: boolean;
  };
  fetch?: RequestInit;
}) => {
  const { swr: swrOptions, fetch: fetchOptions } = options ?? {};

  const isEnabled = swrOptions?.enabled !== false;
  const swrKey =
    swrOptions?.swrKey ?? (() => (isEnabled ? getGetEchoKey() : null));
  const swrFn = () => getEcho(fetchOptions);

  const query = useSwr<Awaited<ReturnType<typeof swrFn>>, TError>(
    swrKey,
    swrFn,
    swrOptions,
  );

  return {
    swrKey,
    ...query,
  };
};
