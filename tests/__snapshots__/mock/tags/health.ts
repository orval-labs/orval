/**
 * Generated by orval v8.4.1 ðŸº
 * Do not edit manually.
 * Swagger Petstore
 * OpenAPI spec version: 1.0.0
 */
import axios from 'axios';
import type { AxiosInstance, AxiosRequestConfig, AxiosResponse } from 'axios';

import { faker } from '@faker-js/faker';

import { HttpResponse, http } from 'msw';
import type { RequestHandlerOptions } from 'msw';

export const getHealth = (axiosInstance: AxiosInstance = axios) => {
  /**
   * @summary health check
   */
  const healthCheck = (
    options?: AxiosRequestConfig,
  ): Promise<AxiosResponse<string>> => {
    return axiosInstance.get(`/health`, {
      responseType: 'text',
      ...options,
    });
  };
  return { healthCheck };
};
export type HealthCheckResult = AxiosResponse<string>;

export const getHealthCheckResponseMock = (): string => faker.word.sample();

export const getHealthCheckMockHandler = (
  overrideResponse?:
    | string
    | ((
        info: Parameters<Parameters<typeof http.get>[1]>[0],
      ) => Promise<string> | string),
  options?: RequestHandlerOptions,
) => {
  return http.get(
    '*/health',
    async (info: Parameters<Parameters<typeof http.get>[1]>[0]) => {
      const resolvedBody =
        overrideResponse !== undefined
          ? typeof overrideResponse === 'function'
            ? await overrideResponse(info)
            : overrideResponse
          : getHealthCheckResponseMock();
      const textBody =
        typeof resolvedBody === 'string'
          ? resolvedBody
          : JSON.stringify(resolvedBody ?? null);
      return HttpResponse.text(textBody, { status: 200 });
    },
    options,
  );
};
export const getHealthMock = () => [getHealthCheckMockHandler()];
