/**
 * Generated by orval v8.4.2 üç∫
 * Do not edit manually.
 * Circular references
 * OpenAPI spec version: 0.0.0
 */
import axios from 'axios';
import type { AxiosRequestConfig, AxiosResponse } from 'axios';

import type { AddListBody, AddListParams } from './model';

import { faker } from '@faker-js/faker';

import { HttpResponse, http } from 'msw';
import type { RequestHandlerOptions } from 'msw';

import type { Node, NodeWithRequiredChild } from './model';

/**
 * @summary Example
 */
export const getExample = (
  options?: AxiosRequestConfig,
): Promise<AxiosResponse<Node>> => {
  return axios.get(`/example`, options);
};

/**
 * @summary Node with required child
 */
export const getNodeWithRequiredChild = (
  options?: AxiosRequestConfig,
): Promise<AxiosResponse<NodeWithRequiredChild>> => {
  return axios.get(`/node-with-required-child`, options);
};

/**
 * @summary Add list
 */
export const addList = (
  addListBody: AddListBody,
  params?: AddListParams,
  options?: AxiosRequestConfig,
): Promise<AxiosResponse<void>> => {
  return axios.post(`/list`, addListBody, {
    ...options,
    params: { ...params, ...options?.params },
  });
};

export type GetExampleResult = AxiosResponse<Node>;
export type GetNodeWithRequiredChildResult =
  AxiosResponse<NodeWithRequiredChild>;
export type AddListResult = AxiosResponse<void>;

export const getGetExampleResponseMock = (
  overrideResponse: Partial<Extract<Node, object>> = {},
): Node => ({
  id: faker.helpers.arrayElement([faker.number.int(), undefined]),
  name: faker.helpers.arrayElement([
    faker.string.alpha({ length: { min: 10, max: 20 } }),
    undefined,
  ]),
  child: faker.helpers.arrayElement([
    {
      id: faker.helpers.arrayElement([faker.number.int(), undefined]),
      name: faker.helpers.arrayElement([
        faker.string.alpha({ length: { min: 10, max: 20 } }),
        undefined,
      ]),
    },
    undefined,
  ]),
  ...overrideResponse,
});

export const getGetNodeWithRequiredChildResponseMock = (
  overrideResponse: Partial<Extract<NodeWithRequiredChild, object>> = {},
): NodeWithRequiredChild => ({
  id: faker.number.int(),
  name: faker.string.alpha({ length: { min: 10, max: 20 } }),
  child: {
    id: faker.number.int(),
    name: faker.string.alpha({ length: { min: 10, max: 20 } }),
    child: null,
  },
  ...overrideResponse,
});

export const getGetExampleMockHandler = (
  overrideResponse?:
    | Node
    | ((
        info: Parameters<Parameters<typeof http.get>[1]>[0],
      ) => Promise<Node> | Node),
  options?: RequestHandlerOptions,
) => {
  return http.get(
    '*/example',
    async (info: Parameters<Parameters<typeof http.get>[1]>[0]) => {
      return HttpResponse.json(
        overrideResponse !== undefined
          ? typeof overrideResponse === 'function'
            ? await overrideResponse(info)
            : overrideResponse
          : getGetExampleResponseMock(),
        { status: 200 },
      );
    },
    options,
  );
};

export const getGetNodeWithRequiredChildMockHandler = (
  overrideResponse?:
    | NodeWithRequiredChild
    | ((
        info: Parameters<Parameters<typeof http.get>[1]>[0],
      ) => Promise<NodeWithRequiredChild> | NodeWithRequiredChild),
  options?: RequestHandlerOptions,
) => {
  return http.get(
    '*/node-with-required-child',
    async (info: Parameters<Parameters<typeof http.get>[1]>[0]) => {
      return HttpResponse.json(
        overrideResponse !== undefined
          ? typeof overrideResponse === 'function'
            ? await overrideResponse(info)
            : overrideResponse
          : getGetNodeWithRequiredChildResponseMock(),
        { status: 200 },
      );
    },
    options,
  );
};

export const getAddListMockHandler = (
  overrideResponse?:
    | void
    | ((
        info: Parameters<Parameters<typeof http.post>[1]>[0],
      ) => Promise<void> | void),
  options?: RequestHandlerOptions,
) => {
  return http.post(
    '*/list',
    async (info: Parameters<Parameters<typeof http.post>[1]>[0]) => {
      if (typeof overrideResponse === 'function') {
        await overrideResponse(info);
      }

      return new HttpResponse(null, { status: 200 });
    },
    options,
  );
};
export const getCircularReferencesMock = () => [
  getGetExampleMockHandler(),
  getGetNodeWithRequiredChildMockHandler(),
  getAddListMockHandler(),
];
