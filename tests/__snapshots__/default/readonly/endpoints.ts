/**
 * Generated by orval v8.4.1 üç∫
 * Do not edit manually.
 * Readonly Properties
 * Readonly properties
 * OpenAPI spec version: 1.0.0
 */
import axios from 'axios';
import type { AxiosRequestConfig, AxiosResponse } from 'axios';

import type {
  CreateReadonlyFreeObjectBody,
  ReadonlyObject,
  UpdateReadonlyBody,
} from './model';

// https://stackoverflow.com/questions/49579094/typescript-conditional-types-filter-out-readonly-properties-pick-only-requir/49579497#49579497
type IfEquals<X, Y, A = X, B = never> =
  (<T>() => T extends X ? 1 : 2) extends <T>() => T extends Y ? 1 : 2 ? A : B;

type WritableKeys<T> = {
  [P in keyof T]-?: IfEquals<
    { [Q in P]: T[P] },
    { -readonly [Q in P]: T[P] },
    P
  >;
}[keyof T];

type UnionToIntersection<U> = (U extends any ? (k: U) => void : never) extends (
  k: infer I,
) => void
  ? I
  : never;
type DistributeReadOnlyOverUnions<T> = T extends any ? NonReadonly<T> : never;

type Writable<T> = Pick<T, WritableKeys<T>>;
type NonReadonly<T> = [T] extends [UnionToIntersection<T>]
  ? {
      [P in keyof Writable<T>]: T[P] extends object
        ? NonReadonly<NonNullable<T[P]>>
        : T[P];
    }
  : DistributeReadOnlyOverUnions<T>;

/**
 * @summary Create readonly object
 */
export const createReadonlyFreeObject = (
  createReadonlyFreeObjectBody: CreateReadonlyFreeObjectBody,
  options?: AxiosRequestConfig,
): Promise<AxiosResponse<ReadonlyObject>> => {
  return axios.post(`/without-readonly`, createReadonlyFreeObjectBody, options);
};

/**
 * @summary Create readonly object
 */
export const createReadonly = (
  readonlyObject: NonReadonly<ReadonlyObject>,
  options?: AxiosRequestConfig,
): Promise<AxiosResponse<ReadonlyObject>> => {
  return axios.post(`/readonly-ref`, readonlyObject, options);
};

/**
 * @summary Update object response
 */
export const updateReadonly = (
  updateReadonlyBody: NonReadonly<UpdateReadonlyBody>,
  options?: AxiosRequestConfig,
): Promise<AxiosResponse<ReadonlyObject>> => {
  return axios.put(`/readonly-direct`, updateReadonlyBody, options);
};

export type CreateReadonlyFreeObjectResult = AxiosResponse<ReadonlyObject>;
export type CreateReadonlyResult = AxiosResponse<ReadonlyObject>;
export type UpdateReadonlyResult = AxiosResponse<ReadonlyObject>;
